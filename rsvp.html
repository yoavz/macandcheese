<!DOCTYPE html>
<html>
<head>
    <title>mac & cheese</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- image for thumbnail on fb/reddit -->
    <meta property="og:title" content="mac & cheese" />
    <meta property="og:image" content="http://www.macandcheese.world/macandcheese_og.png" />

		<!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab" rel="stylesheet">

		<!-- JQuery -->
    <script
      src="http://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>

		<!-- Google Material Design Lite -->
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.purple-yellow.min.css" />
		<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

		<!-- custom css/js -->
    <link href="./main.css" rel="stylesheet">
    <script defer src="./emojis.js" type="text/javascript"></script>
</head>
<body>
  <canvas id="canvas"></canvas>
  <div class="centerpiece">
    <img class="logo" src="./../macandcheese_transparent.png" />
		<form id="rsvp-form" onsubmit="RSVPFormSubmit(event)">
			<div class="rsvp-input mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
				<input class="mdl-textfield__input" type="email" id="mc-email" name="EMAIL">
        <label class="mdl-textfield__label" for="mc-email">Email</label>
			</div>
			<div class="rsvp-button">
				<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" type="submit">RSVP</button>
			</div>
		</form>
    <div id="rsvp-msg" style="display:none;"></div>
  </div>

  <script type="text/javascript">
    // RSVP form submit
    function RSVPFormSubmit(e) {
      e.preventDefault();

      $("#rsvp-form").fadeToggle(500, function() {
        $.ajax({
            url: "http://world.us16.list-manage.com/subscribe/post-json?u=1558d29a545c2f10010b2e82e&amp;id=2e6086ded2&c=?",
            data: $("#rsvp-form").serialize(),
            dataType    : 'jsonp',
            contentType: "application/json; charset=utf-8",
            error       : function(xhr, status, error) { 
            },
            success     : function(data) {
                if (data.result != "success") {
                  $("#rsvp-msg").html(data.msg);
                } else {
                  $("#rsvp-msg").text("Check your email for confirmation, and we'll see you there! ðŸ§€ðŸ§€ðŸ§€");
                }
                $("#rsvp-msg").fadeToggle(500);
            }
        });
      });
    }
  </script>
</body>
</html>
